<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper   
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  

<mapper namespace = "com.lyu.drp.sysmanage.mapper.DictMapper"> 
	<!-- 所有的字典字段 -->
	<sql id = "all_dict_columns">
	    id, value, label, type, description, sort, parent_id,
	    update_by, update_date, remarks, del_flag
	</sql>
	
	<!-- 获得字典列表 -->
	<select id="getDictList" resultType="dict">
		SELECT <include refid="all_dict_columns" />
		FROM drp_sys_dict
		<where>
			<if test="param1 != null">
				AND type = #{param1}
			</if>
			<if test="param2 != null">
				AND description LIKE '%${param2}%'
			</if>
			<if test="1 == 1">
				AND del_flag = 0
			</if>
		</where>
		
	</select>
	
	<!-- 获取所有的字典类型 -->
	<select id="getDictTypeList" resultType="string">
		SELECT DISTINCT type FROM drp_sys_dict WHERE del_flag = 0
	</select>
</mapper>